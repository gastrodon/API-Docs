globals:
    responses:
        "*":
            "401":
                title: Unauthorized
                description: Unauthorized to make request, either because the authorization header is incorrect or missing
    headers:
        "*":
            - name: authorization
              value: The token returned when logging in or creating an account
              required: true
            - name: user-agent
              value: The user agent of the device using this app
              required: false
vars:
    request:
        device:
            PUT:
                lang: JSON
                content:
                    {
                        "applicationID": "co.byte  <Seems to accept arbitrary strings>",
                        "deviceToken": "...        <Device token. Appears to be generated by the app, seems to accept an arbitrary string>",
                        "deviceType": "android     <Only android seems to work. iOS / Apple string unknown>"
                    }
    response:
        global:
            ok:
                lang: JSON
                content:
                    {
                        "data": {},
                        "success": 1
                    }
        me:
            GET:
                ok:
                    lang: JSON
                    content:
                        {
                            "data": {
                                "account": {
                                    "id": "                             <account id>",
                                    "isRegistered": "true               <Is this user registered?>",
                                    "isChannel": "false                 <Is this user a channel?>",
                                    "isSuspended": "false               <Is this account suspended?>",
                                    "isDeactivated": "false             <Did this user deactivate their account?>",
                                    "registrationDate": "1580272854     <Account creation Unix timestamp>",
                                    "username": "robotter               <Account username>",
                                    "backgroundColor": "#000000         <Account background color",
                                    "foregroundColor": "#CCD6E9         <Account foreground color",
                                    "followerCount": "0                 <Subscribers of this account>",
                                    "followingCount": "0                <Subscriptions of this account>",
                                    "loopCount": "0                     <Total loops played of this account>",
                                    "loopsConsumedCount": "0            <Total loops played by this account>"
                                }
                            },
                            "success": 1
                        }
        device:
            PUT:
                malformed:
                    lang: JSON
                    content:
                        {
                            "error": {
                                "code": 1404,
                                "message": "invalid device type"
                            },
                            "success": 0
                        }

routes:
        /account/me/:
            GET:
                description: Get information about the logged in account
                responses:
                    "200":
                        title: Account fetched
                        description: The account information of the logged in user was fetched
                        body: $response.me.GET.ok
        /account/me/device/:
            PUT:
                description: Give byte information about this device
                body: $request.device.PUT
                responses:
                    "200":
                        title: Device info accepted
                        description: The device info sent is correct and was accepted
                        body: $response.global.ok
                    "200:1404":
                        title: Device info incorrect
                        description: The device info sent is malformed
                        body: $response.device.PUT.malformed
