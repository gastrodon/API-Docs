globals:
    request_headers:
        "*":
            - name: NDCDEVICEID
              description: The device id generated by the app. See
              required: true
            - name: NDC-MSG-SIG
              description: Message signature (?) generated by the app
              required: false
            - name: SMDEVICEID
              description: I don't know, seems to be a non-string hex number
              required: false

vars:
    request:
        POST:
            body:
                post_device:
                    lang: JSON
                    content:
                        {
                            "deviceID": "...                        <device id generated by the app>",
                            "bundleID": "com.narvii.amino.master    <android app package?>",
                            "clientType": "100                      <always 100>",
                            "timezone": "-300                       <timezone number code>",
                            "systemPushEnabled": "true              <true by default on new install>",
                            "locale": "en_US                        <locale string>",
                            "deviceToken": "...                     <device token generated by the app>",
                            "deviceTokenType": "1                   <always 1?>",
                            "timestamp": "1579580530965             <request time in ms>"
                        }
    response_body:
        POST:
            post_device:
                200:
                    lang: JSON
                    content:
                        {
                            "api:statuscode": "0                    <0 is success>",
                            "api:duration": "0.034s                 <operation time>",
                            "api:message": "OK                      <more detailed status>",
                            "api:timestamp": "2020-01-21T04:22:13Z  <server time>",
                            "devOptions": "null                     <?>"
                        }

routes:
    /api/v1/g/s/device/:
        POST:
            description: POST a device configuration
            body: $request.POST.body.post_device
            responses:
                200:
                    title: Device configured
                    description: The device config was accepted
                    body: $response_body.POST.post_device.200
    /api/v1/g/s/auid/:
        GET:
            description: GET an AUID for this device
            "query strings":
                - name: deviceId
                  description: Same as NDCDEVICEID
                  required: true
